---
title: "@Nuxt/Content Markdown无法显示代码块行数自行解决方法"
label: 记录
date: 2023/05/06
comment: false
---
&emsp;&emsp;@Nuxt/Content文档里没有找到相关内容可以显示代码块行数，百度的{.line-number}也不行，自己写了个解决方法。
&emsp;&emsp;开发者模式下，能够在元素项看到@Nuxt/Content将代码块每一行都转换成了span标签，并包含了一个`line="number(行数)"`的属性，通过获取代码块最后一行的`line`，就能知道代码块的具体行数，在代码块中插入一个带有`line-number`类名的span标签作为代码块行数的显示，再通过css对其进行样式设置，就能实现代码块显示行数。

###### js
```js
let lineNumber = parseInt(
  item.querySelector("code span.line:last-child").getAttribute("line")
);
const line = document.createElement("span");
line.className = "line-number";
for (let i = 1; i <= lineNumber; i++) {
  const span = document.createElement("span");
  span.innerText = i;
  line.appendChild(span);
}
item.appendChild(line);
```
###### css

```css
.markdown-body pre {
  padding: 12px;
  overflow-x: scroll;
  overflow-y: hidden;
  display: flex;
  flex-direction: row-reverse;
  justify-content: start;
}

.markdown-body .line-number {
  text-align: center;
  padding-right: 12px;
  min-height: 1rem;
  line-height: 20px;
  border-right: 1px solid #7195a8;
  color: #7195a8;
}

.markdown-body .line-number span {
  display: block;
}
```